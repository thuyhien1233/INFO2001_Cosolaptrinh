#include <stdio.h>
#include <stdlib.h>

// Dinh nghia cau truc du lieu
struct Data {
    int id;
    float value;
};

int main() {
    // Ghi du lieu vao tep tin nhi phan
    FILE *file = fopen("data.txt", "wb");

    if (file == NULL) {
        printf("Khong the mo hoac tao file.\n");
        return 1;
    }

    struct Data data1 = {1, 3.15};
    struct Data data2 = {2, 3.06};

    // Ghi du lieu vao tep tin
    fwrite(&data1, sizeof(struct Data), 1, file);
    fwrite(&data2, sizeof(struct Data), 1, file);

    // Dong tep tin
    fclose(file);

    // Doc du lieu tu tep tin nhi phan va hien thi ra man hinh
    file = fopen("data.txt", "rb");

    if (file == NULL) {
        printf("Khong the mo file.\n");
        return 1;
    }

    struct Data readData;

    // Doc du lieu tu tep tin
    while (fread(&readData, sizeof(struct Data), 1, file) == 1) {
        // Hien thi du lieu ra man hinh
        printf("ID: %d, Value: %.2f\n", readData.id, readData.value);
    }

    // Dong tep tin
    fclose(file);

    return 0;
}

